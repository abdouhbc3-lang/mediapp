import { useState, useEffect, useCallback } from "react";

export type Language = "fr" | "en" | "es" | "ar" | "pt";

export const translations = {
  fr: {
    // Profile
    profile: "Profil",
    manageSettings: "GÃ©rez vos paramÃ¨tres",
    user: "Utilisateur",
    activeAccount: "Compte actif",
    settings: "ParamÃ¨tres",
    notifications: "Notifications",
    darkMode: "Mode sombre",
    privacy: "ConfidentialitÃ©",
    helpSupport: "Aide & Support",
    language: "Langue",
    logout: "DÃ©connexion",
    appVersion: "MedReminder v1.0",
    healthPriority: "Votre santÃ©, notre prioritÃ© ğŸ’š",
    // Dashboard
    hello: "Bonjour",
    yourHealth: "Votre santÃ©",
    todayMeds: "mÃ©dicaments aujourd'hui",
    progress: "Progression",
    morning: "Matin",
    afternoon: "Midi",
    evening: "Soir",
    night: "Nuit",
    noMeds: "Aucun mÃ©dicament",
    addFirst: "Appuyez sur + pour ajouter un mÃ©dicament",
    onOf: "sur",
    medications: "mÃ©dicaments",
    allDone: "ğŸ‰ Bravo ! Tous vos mÃ©dicaments sont pris",
    keepGoing: "ğŸ’ª Continuez comme Ã§a !",
    dontForget: "â° N'oubliez pas vos mÃ©dicaments",
    healthTip: "Prenez vos mÃ©dicaments Ã  heure fixe",
    // Medication
    addMedication: "Ajouter un mÃ©dicament",
    editMedication: "Modifier le mÃ©dicament",
    medicationName: "Nom du mÃ©dicament",
    name: "Nom",
    dosage: "Dosage",
    time: "Heure",
    intakeTime: "Heure de prise",
    save: "Enregistrer",
    cancel: "Annuler",
    delete: "Supprimer",
    edit: "Modifier",
    taken: "Pris",
    color: "Couleur",
    notes: "Notes (optionnel)",
    addMedicationBtn: "ğŸ’Š Ajouter le mÃ©dicament",
    saveChanges: "âœ… Enregistrer les modifications",
    exampleName: "Ex: Doliprane",
    exampleDosage: "Ex: 500mg - 1 comprimÃ©",
    exampleNotes: "Ex: Ã€ prendre avec de l'eau",
    frequency: "FrÃ©quence",
    frequencyDaily: "Quotidien",
    frequencyWeekly: "Hebdomadaire",
    frequencyMonthly: "Mensuel",
    frequencyAsNeeded: "Si besoin",
    selectDays: "SÃ©lectionner les jours",
    selectDates: "SÃ©lectionner les dates du mois",
    monday: "Lun",
    tuesday: "Mar",
    wednesday: "Mer",
    thursday: "Jeu",
    friday: "Ven",
    saturday: "Sam",
    sunday: "Dim",
    // History
    history: "Historique",
    weeklyOverview: "Cette semaine",
    trackingIntakes: "Suivi de vos prises",
    completionRate: "Taux de complÃ©tion",
    takenToday: "Pris aujourd'hui",
    pending: "En attente",
    todayActivity: "ActivitÃ© du jour",
    // All medications
    allMedications: "Tous les mÃ©dicaments",
    myMedications: "Mes mÃ©dicaments",
    medicationsRegistered: "mÃ©dicament(s) enregistrÃ©(s)",
    search: "Rechercher un mÃ©dicament...",
    all: "Tous",
    toTake: "Ã€ prendre",
    noResult: "Aucun rÃ©sultat",
    // Nav
    home: "Accueil",
    medicationsNav: "MÃ©dicaments",
    // Alerts
    timeToTake: "Il est l'heure de prendre",
    takenAction: "Pris âœ“",
    // Notification buttons
    remind: "Rappeler",
    view: "Voir",
    // Time periods
    medication: "mÃ©dicament",
    medicationsPlural: "mÃ©dicaments",
    noMedicationsForDate: "Aucun mÃ©dicament enregistrÃ© pour cette date",
    loading: "Chargement...",
  },
  pt: {
    profile: "Perfil",
    manageSettings: "Gerenciar configuraÃ§Ãµes",
    user: "UsuÃ¡rio",
    activeAccount: "Conta ativa",
    settings: "ConfiguraÃ§Ãµes",
    notifications: "NotificaÃ§Ãµes",
    darkMode: "Modo escuro",
    privacy: "Privacidade",
    helpSupport: "Ajuda e suporte",
    language: "Idioma",
    logout: "Sair",
    appVersion: "MedReminder v1.0",
    healthPriority: "Sua saÃºde, nossa prioridade ğŸ’š",
    hello: "OlÃ¡",
    yourHealth: "Sua saÃºde",
    todayMeds: "medicamentos hoje",
    progress: "Progresso",
    morning: "ManhÃ£",
    afternoon: "Tarde",
    evening: "Noite",
    night: "Madrugada",
    noMeds: "Sem medicamentos",
    addFirst: "Toque em + para adicionar um medicamento",
    onOf: "de",
    medications: "medicamentos",
    allDone: "ğŸ‰ ParabÃ©ns! Todos os medicamentos foram tomados",
    keepGoing: "ğŸ’ª Continue assim!",
    dontForget: "â° NÃ£o se esqueÃ§a de seus medicamentos",
    healthTip: "Tome seus medicamentos no horÃ¡rio",
    addMedication: "Adicionar medicamento",
    editMedication: "Editar medicamento",
    medicationName: "Nome do medicamento",
    name: "Nome",
    dosage: "Dosagem",
    time: "Hora",
    intakeTime: "HorÃ¡rio de ingestÃ£o",
    save: "Salvar",
    cancel: "Cancelar",
    delete: "Excluir",
    edit: "Editar",
    taken: "Tomado",
    color: "Cor",
    notes: "Notas (opcional)",
    addMedicationBtn: "ğŸ’Š Adicionar medicamento",
    saveChanges: "âœ… Salvar alteraÃ§Ãµes",
    exampleName: "Ex: Paracetamol",
    exampleDosage: "Ex: 500mg - 1 comprimido",
    exampleNotes: "Ex: Tomar com Ã¡gua",
    frequency: "FrequÃªncia",
    frequencyDaily: "DiÃ¡rio",
    frequencyWeekly: "Semanal",
    frequencyMonthly: "Mensal",
    frequencyAsNeeded: "Conforme necessÃ¡rio",
    selectDays: "Selecionar dias",
    selectDates: "Selecionar datas do mÃªs",
    monday: "Seg",
    tuesday: "Ter",
    wednesday: "Qua",
    thursday: "Qui",
    friday: "Sex",
    saturday: "SÃ¡b",
    sunday: "Dom",
    history: "HistÃ³rico",
    weeklyOverview: "Esta semana",
    trackingIntakes: "Acompanhamento de suas ingestÃµes",
    completionRate: "Taxa de conclusÃ£o",
    takenToday: "Tomados hoje",
    pending: "Pendente",
    todayActivity: "Atividade de hoje",
    allMedications: "Todos os medicamentos",
    myMedications: "Meus medicamentos",
    medicationsRegistered: "medicamento(s) registrado(s)",
    search: "Pesquisar medicamento...",
    all: "Todos",
    toTake: "Para tomar",
    noResult: "Nenhum resultado",
    home: "InÃ­cio",
    medicationsNav: "Medicamentos",
    timeToTake: "Hora de tomar",
    takenAction: "Tomado âœ“",
    remind: "Lembrar",
    view: "Ver",
    medication: "medicamento",
    medicationsPlural: "medicamentos",
    noMedicationsForDate: "Nenhum medicamento registrado para esta data",
    loading: "Carregando...",
  },
  en: {
    profile: "Profile",
    manageSettings: "Manage your settings",
    user: "User",
    activeAccount: "Active account",
    settings: "Settings",
    notifications: "Notifications",
    darkMode: "Dark mode",
    privacy: "Privacy",
    helpSupport: "Help & Support",
    language: "Language",
    logout: "Logout",
    appVersion: "MedReminder v1.0",
    healthPriority: "Your health, our priority ğŸ’š",
    hello: "Hello",
    yourHealth: "Your health",
    todayMeds: "medications today",
    progress: "Progress",
    morning: "Morning",
    afternoon: "Noon",
    evening: "Evening",
    night: "Night",
    noMeds: "No medications",
    addFirst: "Tap + to add a medication",
    onOf: "of",
    medications: "medications",
    allDone: "ğŸ‰ Well done! All medications taken",
    keepGoing: "ğŸ’ª Keep it up!",
    dontForget: "â° Don't forget your medications",
    healthTip: "Take your medications on time",
    addMedication: "Add medication",
    editMedication: "Edit medication",
    medicationName: "Medication name",
    name: "Name",
    dosage: "Dosage",
    time: "Time",
    intakeTime: "Intake time",
    save: "Save",
    cancel: "Cancel",
    delete: "Delete",
    edit: "Edit",
    taken: "Taken",
    color: "Color",
    notes: "Notes (optional)",
    addMedicationBtn: "ğŸ’Š Add medication",
    saveChanges: "âœ… Save changes",
    exampleName: "E.g.: Tylenol",
    exampleDosage: "E.g.: 500mg - 1 tablet",
    exampleNotes: "E.g.: Take with water",
    frequency: "Frequency",
    frequencyDaily: "Daily",
    frequencyWeekly: "Weekly",
    frequencyMonthly: "Monthly",
    frequencyAsNeeded: "As needed",
    selectDays: "Select days",
    selectDates: "Select dates of the month",
    monday: "Mon",
    tuesday: "Tue",
    wednesday: "Wed",
    thursday: "Thu",
    friday: "Fri",
    saturday: "Sat",
    sunday: "Sun",
    history: "History",
    weeklyOverview: "This week",
    trackingIntakes: "Tracking your intakes",
    completionRate: "Completion rate",
    takenToday: "Taken today",
    pending: "Pending",
    todayActivity: "Today's activity",
    allMedications: "All medications",
    myMedications: "My medications",
    medicationsRegistered: "medication(s) registered",
    search: "Search medication...",
    all: "All",
    toTake: "To take",
    noResult: "No results",
    home: "Home",
    medicationsNav: "Medications",
    timeToTake: "Time to take",
    takenAction: "Taken âœ“",
    // Notification buttons
    remind: "Remind",
    view: "View",
    medication: "medication",
    medicationsPlural: "medications",
    noMedicationsForDate: "No medications recorded for this date",
    loading: "Loading...",
  },
  es: {
    profile: "Perfil",
    manageSettings: "Gestiona tu configuraciÃ³n",
    user: "Usuario",
    activeAccount: "Cuenta activa",
    settings: "ConfiguraciÃ³n",
    notifications: "Notificaciones",
    darkMode: "Modo oscuro",
    privacy: "Privacidad",
    helpSupport: "Ayuda y Soporte",
    language: "Idioma",
    logout: "Cerrar sesiÃ³n",
    appVersion: "MedReminder v1.0",
    healthPriority: "Tu salud, nuestra prioridad ğŸ’š",
    hello: "Hola",
    yourHealth: "Tu salud",
    todayMeds: "medicamentos hoy",
    progress: "Progreso",
    morning: "MaÃ±ana",
    afternoon: "MediodÃ­a",
    evening: "Tarde",
    night: "Noche",
    noMeds: "Sin medicamentos",
    addFirst: "Toca + para aÃ±adir un medicamento",
    onOf: "de",
    medications: "medicamentos",
    allDone: "ğŸ‰ Â¡Bien hecho! Todos los medicamentos tomados",
    keepGoing: "ğŸ’ª Â¡Sigue asÃ­!",
    dontForget: "â° No olvides tus medicamentos",
    healthTip: "Toma tus medicamentos a tiempo",
    addMedication: "AÃ±adir medicamento",
    editMedication: "Editar medicamento",
    medicationName: "Nombre del medicamento",
    name: "Nombre",
    dosage: "Dosis",
    time: "Hora",
    intakeTime: "Hora de toma",
    save: "Guardar",
    cancel: "Cancelar",
    delete: "Eliminar",
    edit: "Editar",
    taken: "Tomado",
    color: "Color",
    notes: "Notas (opcional)",
    addMedicationBtn: "ğŸ’Š AÃ±adir medicamento",
    saveChanges: "âœ… Guardar cambios",
    exampleName: "Ej: Ibuprofeno",
    exampleDosage: "Ej: 500mg - 1 comprimido",
    exampleNotes: "Ej: Tomar con agua",
    frequency: "Frecuencia",
    frequencyDaily: "Diario",
    frequencyWeekly: "Semanal",
    frequencyMonthly: "Mensual",
    frequencyAsNeeded: "Si es necesario",
    selectDays: "Seleccionar dÃ­as",
    selectDates: "Seleccionar fechas del mes",
    monday: "Lun",
    tuesday: "Mar",
    wednesday: "MiÃ©",
    thursday: "Jue",
    friday: "Vie",
    saturday: "SÃ¡b",
    sunday: "Dom",
    history: "Historial",
    weeklyOverview: "Esta semana",
    trackingIntakes: "Seguimiento de tomas",
    completionRate: "Tasa de cumplimiento",
    takenToday: "Tomados hoy",
    pending: "Pendientes",
    todayActivity: "Actividad del dÃ­a",
    allMedications: "Todos los medicamentos",
    myMedications: "Mis medicamentos",
    medicationsRegistered: "medicamento(s) registrado(s)",
    search: "Buscar medicamento...",
    all: "Todos",
    toTake: "Por tomar",
    noResult: "Sin resultados",
    home: "Inicio",
    medicationsNav: "Medicamentos",
    timeToTake: "Hora de tomar",
    takenAction: "Tomado âœ“",
    // Notification buttons
    remind: "Recordar",
    view: "Ver",
    medication: "medicamento",
    medicationsPlural: "medicamentos",
    noMedicationsForDate: "No hay medicamentos registrados para esta fecha",
    loading: "Cargando...",
  },
  ar: {
    profile: "Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",
    manageSettings: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    user: "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
    activeAccount: "Ø­Ø³Ø§Ø¨ Ù†Ø´Ø·",
    settings: "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
    notifications: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª",
    darkMode: "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†",
    privacy: "Ø§Ù„Ø®ØµÙˆØµÙŠØ©",
    helpSupport: "Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙˆØ§Ù„Ø¯Ø¹Ù…",
    language: "Ø§Ù„Ù„ØºØ©",
    logout: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
    appVersion: "MedReminder v1.0",
    healthPriority: "ØµØ­ØªÙƒ Ø£ÙˆÙ„ÙˆÙŠØªÙ†Ø§ ğŸ’š",
    hello: "Ù…Ø±Ø­Ø¨Ø§",
    yourHealth: "ØµØ­ØªÙƒ",
    todayMeds: "Ø£Ø¯ÙˆÙŠØ© Ø§Ù„ÙŠÙˆÙ…",
    progress: "Ø§Ù„ØªÙ‚Ø¯Ù…",
    morning: "ØµØ¨Ø§Ø­",
    afternoon: "Ø¸Ù‡Ø±",
    evening: "Ù…Ø³Ø§Ø¡",
    night: "Ù„ÙŠÙ„",
    noMeds: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ©",
    addFirst: "Ø§Ø¶ØºØ· + Ù„Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡",
    onOf: "Ù…Ù†",
    medications: "Ø£Ø¯ÙˆÙŠØ©",
    allDone: "ğŸ‰ Ø£Ø­Ø³Ù†Øª! ØªÙ… ØªÙ†Ø§ÙˆÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©",
    keepGoing: "ğŸ’ª Ø§Ø³ØªÙ…Ø±!",
    dontForget: "â° Ù„Ø§ ØªÙ†Ø³Ù Ø£Ø¯ÙˆÙŠØªÙƒ",
    healthTip: "ØªÙ†Ø§ÙˆÙ„ Ø£Ø¯ÙˆÙŠØªÙƒ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯",
    addMedication: "Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡",
    editMedication: "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ§Ø¡",
    medicationName: "Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡",
    name: "Ø§Ù„Ø§Ø³Ù…",
    dosage: "Ø§Ù„Ø¬Ø±Ø¹Ø©",
    time: "Ø§Ù„ÙˆÙ‚Øª",
    intakeTime: "ÙˆÙ‚Øª Ø§Ù„ØªÙ†Ø§ÙˆÙ„",
    save: "Ø­ÙØ¸",
    cancel: "Ø¥Ù„ØºØ§Ø¡",
    delete: "Ø­Ø°Ù",
    edit: "ØªØ¹Ø¯ÙŠÙ„",
    taken: "ØªÙ… Ø§Ù„ØªÙ†Ø§ÙˆÙ„",
    color: "Ø§Ù„Ù„ÙˆÙ†",
    notes: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
    addMedicationBtn: "ğŸ’Š Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ø¡",
    saveChanges: "âœ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª",
    exampleName: "Ù…Ø«Ø§Ù„: Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„",
    exampleDosage: "Ù…Ø«Ø§Ù„: 500 Ù…Ø¬Ù… - Ù‚Ø±Øµ ÙˆØ§Ø­Ø¯",
    exampleNotes: "Ù…Ø«Ø§Ù„: ØªÙ†Ø§ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø§Ø¡",
    frequency: "Ø§Ù„ØªÙƒØ±Ø§Ø±",
    frequencyDaily: "ÙŠÙˆÙ…ÙŠ",
    frequencyWeekly: "Ø£Ø³Ø¨ÙˆØ¹ÙŠ",
    frequencyMonthly: "Ø´Ù‡Ø±ÙŠ",
    frequencyAsNeeded: "Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©",
    selectDays: "Ø§Ø®ØªØ± Ø§Ù„Ø£ÙŠØ§Ù…",
    selectDates: "Ø§Ø®ØªØ± ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø´Ù‡Ø±",
    monday: "Ø¥Ø«Ù†",
    tuesday: "Ø«Ù„Ø§",
    wednesday: "Ø£Ø±Ø¨",
    thursday: "Ø®Ù…ÙŠ",
    friday: "Ø¬Ù…Ø¹",
    saturday: "Ø³Ø¨Øª",
    sunday: "Ø£Ø­Ø¯",
    history: "Ø§Ù„Ø³Ø¬Ù„",
    weeklyOverview: "Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹",
    trackingIntakes: "ØªØªØ¨Ø¹ Ø¬Ø±Ø¹Ø§ØªÙƒ",
    completionRate: "Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„",
    takenToday: "ØªÙ… Ø§Ù„ÙŠÙˆÙ…",
    pending: "Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",
    todayActivity: "Ù†Ø´Ø§Ø· Ø§Ù„ÙŠÙˆÙ…",
    allMedications: "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©",
    myMedications: "Ø£Ø¯ÙˆÙŠØªÙŠ",
    medicationsRegistered: "Ø¯ÙˆØ§Ø¡ Ù…Ø³Ø¬Ù„",
    search: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¯ÙˆØ§Ø¡...",
    all: "Ø§Ù„ÙƒÙ„",
    toTake: "Ù„Ù„ØªÙ†Ø§ÙˆÙ„",
    noResult: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬",
    home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    medicationsNav: "Ø§Ù„Ø£Ø¯ÙˆÙŠØ©",
    timeToTake: "Ø­Ø§Ù† ÙˆÙ‚Øª ØªÙ†Ø§ÙˆÙ„",
    takenAction: "ØªÙ… âœ“",
    // Notification buttons
    remind: "ØªØ°ÙƒÙŠØ±",
    view: "Ø¹Ø±Ø¶",
    medication: "Ø¯ÙˆØ§Ø¡",
    medicationsPlural: "Ø£Ø¯ÙˆÙŠØ©",
    noMedicationsForDate: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ© Ù…Ø³Ø¬Ù„Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ®",
    loading: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
  },
};

export const languageNames: Record<Language, string> = {
  fr: "FranÃ§ais",
  en: "English",
  es: "EspaÃ±ol",
  ar: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
  pt: "PortuguÃªs",
};

export const useLanguage = () => {
  const [language, setLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem("app-language");
    return (saved as Language) || "en";
  });

  useEffect(() => {
    localStorage.setItem("app-language", language);
    document.documentElement.dir = language === "ar" ? "rtl" : "ltr";
  }, [language]);

  const t = useCallback(
    (key: keyof typeof translations.fr): string => {
      return translations[language][key] || key;
    },
    [language]
  );

  return { language, setLanguage, t, languageNames };
};
